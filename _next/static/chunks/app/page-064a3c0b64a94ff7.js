(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1668:function(e,t,r){Promise.resolve().then(r.bind(r,1295))},1295:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var n=r(7437),i=r(2265),a=r(9671),c=r.n(a);function Home(){let e;let t=(0,i.useRef)(),r=(0,i.useRef)(),[a,o]=(0,i.useState)(!1),close=()=>{try{var e,t;o(!1),null===(t=r.current)||void 0===t||null===(e=t.close)||void 0===e||e.call(t)}catch(e){}};(0,i.useEffect)(()=>(document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&close()}),()=>{close()}),[]);let onRecord=async()=>{if(a){close();return}r.current=new AudioContext;let e=r.current;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let r=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:22050}}),n=e.createMediaStreamSource(r),i=t.current;n.connect(e.destination),i.srcObject=r,o(!0);return}alert("不支持！")};return(0,n.jsxs)("div",{className:c().page,children:[(e="开始对话",a&&(e="结束对话"),(0,n.jsx)("div",{onClick:onRecord,className:c()["play-btn"],children:e})),(()=>{if(a)return(0,n.jsx)("div",{className:c().desc,children:"对话中..."})})(),(0,n.jsx)("audio",{ref:t})]})}},9671:function(e){e.exports={page:"page_page__ZU32B",desc:"page_desc__5JXkv","play-btn":"page_play-btn__dUpBJ"}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),i=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,s={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,n)&&!o.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:l,props:s,_owner:c.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,864,744],function(){return e(e.s=1668)}),_N_E=e.O()}]);